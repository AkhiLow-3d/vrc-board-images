<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>vrc-board-images</title>
<style>
  body { font-family: sans-serif; background: #111; color: #eee; padding: 1em; }
  h1 { color: #9cf; }
  h2 { color: #9cf; margin-top: 1.5em; border-bottom: 1px solid #333; padding-bottom: 0.2em; }
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1em;
  }
  .item {
    background: #222;
    border-radius: 8px;
    padding: 0.5em;
    text-align: center;
    transition: 0.2s;
  }
  .item:hover { background: #333; transform: scale(1.02); }
  img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 6px;
  }
  a { color: #8df; text-decoration: none; }
  a:hover { text-decoration: underline; }
</style>
</head>
<body>
<h1>ğŸ“ vrc-board-images</h1>
<p>å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œãƒªãƒ³ã‚¯ã®ã‚³ãƒ”ãƒ¼ã€ã§URLã‚’å–å¾—ã§ãã¾ã™ã€‚</p>
<div id="content"></div>

<script>
async function loadFolder(path = "", title = "root") {
  const res = await fetch(`https://api.github.com/repos/AkhiLow-3d/vrc-board-images/contents/${path}`);
  const files = await res.json();
  const content = document.getElementById("content");

  // è¦‹å‡ºã—ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ã‚¿ã‚¤ãƒˆãƒ«ï¼‰
  const h2 = document.createElement("h2");
  h2.textContent = path ? `ğŸ“‚ ${path}` : "ğŸ“‚ root";
  content.appendChild(h2);

  const gallery = document.createElement("div");
  gallery.className = "gallery";
  content.appendChild(gallery);

  // ç”»åƒã¾ãŸã¯ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€
  for (const f of files) {
    if (f.type === "dir") {
      await loadFolder(f.path, f.name); // ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ã‚‚å†å¸°çš„ã«å‡¦ç†
    } else if (f.name.match(/\.(png|jpg|jpeg|gif)$/i)) {
      const url = `https://akhilow-3d.github.io/vrc-board-images/${f.path}`;
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <a href="${url}" target="_blank">
          <img src="${url}" alt="${f.name}">
          <span>${f.name}</span>
        </a>`;
      gallery.appendChild(div);
    }
  }
}

loadFolder();
</script>
</body>
</html>
